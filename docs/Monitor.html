<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Monitor</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Monitor</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Monitor<span class="signature">(meta, data)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Class representing a set of air quality time series and associated metadata.</p>
<p>Stores two dataframes:</p>
<ul>
<li><code>meta</code>: instrument deployment metadata (rows = device-deployments)</li>
<li><code>data</code>: UTC time-series data (rows = datetime, columns = deviceDeploymentIDs)</li>
</ul></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Monitor"><span class="type-signature"></span>new Monitor<span class="signature">(meta, data)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Constructs a new Monitor instance with 'meta' and 'data' tables.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>meta</code></td>
            

            <td class="type">
            
                
<span class="param-type">aq.Table</span>


            
            </td>

            

            

            <td class="description last"><p>Metadata table with one row per deviceDeploymentID.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">aq.Table</span>


            
            </td>

            

            

            <td class="description last"><p>Time series data table with a <code>datetime</code> column and one column per deviceDeploymentID.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="collapse"><span class="type-signature"></span>collapse<span class="signature">(deviceID, FUN, FUN_arg<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="Monitor.html">Monitor</a>}</span></h4>
    

    



<div class="description">
    <p>Collapses data from all time series into a single time series using the
function provided in the <code>FUN</code> argument (typically 'mean'). The single time
series result will be located at the mean longitude and latitude.</p>
<p>When <code>FUN = &quot;quantile&quot;</code>, the <code>FUN_arg</code> argument specifies the quantile
probability.</p>
<p>Available function names are those defined at:
<a href="https:%5C/%5C/uwdata.github.io/arquero/api/op#aggregate-functions">https://uwdata.github.io/arquero/api/op#aggregate-functions</a> with the
<code>&quot;op.&quot;</code> removed.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>deviceID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>New deviceDeploymentID for the collapsed series.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>FUN</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Name of an aggregation function (e.g., &quot;mean&quot;, &quot;max&quot;).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>FUN_arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional argument to pass to FUN.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line289">line 289</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>New Monitor with a single time series.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Monitor.html">Monitor</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="combine"><span class="type-signature"></span>combine<span class="signature">(monitor)</span><span class="type-signature"> &rarr; {<a href="Monitor.html">Monitor</a>}</span></h4>
    

    



<div class="description">
    <p>Combines this Monitor object with another, dropping duplicate deviceDeploymentIDs
from the second monitor to avoid collisions.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>monitor</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Monitor.html">Monitor</a></span>


            
            </td>

            

            

            <td class="description last"><p>Another Monitor instance to combine with this one.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line303">line 303</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>New Monitor with combined time series.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Monitor.html">Monitor</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="count"><span class="type-signature"></span>count<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    <p>Returns the number of individual time series found in a Monitor object.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line177">line 177</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Number of metadata rows.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="createGeoJSON"><span class="type-signature"></span>createGeoJSON<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns a GeoJSON FeatureCollection representing deployment locations.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line379">line 379</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>GeoJSON FeatureCollection.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="dropEmpty"><span class="type-signature"></span>dropEmpty<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="Monitor.html">Monitor</a>}</span></h4>
    

    



<div class="description">
    <p>Drops time series from the monitor that contain only missing values.</p>
<p>A value is considered missing if it is null, undefined, NaN, or an invalid string (e.g. 'NA').
The resulting monitor object includes only the deviceDeploymentIDs with at least one valid observation.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line345">line 345</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>New Monitor with empty time series removed.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Monitor.html">Monitor</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="filterByValue"><span class="type-signature"></span>filterByValue<span class="signature">(column, value)</span><span class="type-signature"> &rarr; {<a href="Monitor.html">Monitor</a>}</span></h4>
    

    



<div class="description">
    <p>Filters time series based on matching values in the 'meta' dataframe.
The returned Monitor object will contain only those records where
monitor.meta.columnName === &quot;value&quot;.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>column</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Name of the column used for filtering.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Value to match.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line331">line 331</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>New Monitor with filtered time series.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Monitor.html">Monitor</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getCurrentStatus"><span class="type-signature"></span>getCurrentStatus<span class="signature">()</span><span class="type-signature"> &rarr; {aq.Table}</span></h4>
    

    



<div class="description">
    <p>Augments and returns 'meta' with current status information derived from 'data'.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line371">line 371</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An enhanced version of monitor.meta.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">aq.Table</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDailyStats"><span class="type-signature"></span>getDailyStats<span class="signature">(id)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Calculates daily statistics for the time series identified by id after the
time series has been trimmed to local-time day boundaries. The starting
hour of each local time day and statistics derived from that day's data
are returned in an object with <code>datetime</code>, <code>count</code>, <code>min</code>, <code>mean</code> and <code>max</code>
properties.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The deviceDeploymentID of the time series to select.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line251">line 251</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Object with <code>datetime</code>, <code>count</code>, <code>min</code>, <code>mean</code> and <code>max</code> properties.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDatetime"><span class="type-signature"></span>getDatetime<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;Date>}</span></h4>
    

    



<div class="description">
    <p>Returns the array of date objects that define this Monitor object's time axis.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line185">line 185</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of Date objects.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Date></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDiurnalStats"><span class="type-signature"></span>getDiurnalStats<span class="signature">(id, dayCount)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Calculates hour-of-day statistics for the time series identified by id after
the time series has been trimmed to local-time day boundaries. An array of
local time hours and hour-of-day statistics derived from recent data
are returned in an object with <code>hour</code>, <code>count</code>, <code>min</code>, <code>mean</code> and <code>max</code>
properties.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The deviceDeploymentID of the time series to select.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dayCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Number of most recent days to use.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line266">line 266</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Object with <code>hour</code>, <code>count</code>, <code>min</code>, <code>mean</code> and <code>max</code> properties.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getIDs"><span class="type-signature"></span>getIDs<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    <p>Returns an array of unique identifiers (deviceDeploymentIDs) found in a
Monitor object.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line169">line 169</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of deviceDeploymentIDs.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getMetaObject"><span class="type-signature"></span>getMetaObject<span class="signature">(id)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns an object with all metadata properties for the time series
identified by id.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The deviceDeploymentID of the time series to select.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line206">line 206</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Object with all metadata properties.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getMetadata"><span class="type-signature"></span>getMetadata<span class="signature">(id, fieldName)</span><span class="type-signature"> &rarr; {string|number}</span></h4>
    

    



<div class="description">
    <p>Returns the named metadata field for the time series identified by id.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The deviceDeploymentID of the time series to select.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fieldName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Name of the metadata field to retrieve.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line195">line 195</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The value of the metadata field.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>
|

<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getNowcast"><span class="type-signature"></span>getNowcast<span class="signature">(id)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    <p>Returns the NowCast PM2.5 value for the specified device.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The deviceDeploymentID of the time series to select.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line237">line 237</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>NowCast value.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getPM25"><span class="type-signature"></span>getPM25<span class="signature">(id)</span><span class="type-signature"> &rarr; {Array.&lt;number>}</span></h4>
    

    



<div class="description">
    <p>Returns the PM2.5 time series for the specified device.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The deviceDeploymentID of the time series to select.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line228">line 228</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If the device ID is not found.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>PM2.5 values.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;number></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getTimezone"><span class="type-signature"></span>getTimezone<span class="signature">(id)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    <p>Returns the timezone for the specified device.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The deviceDeploymentID of the time series to select.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Olson timezone.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadAnnual"><span class="type-signature">(async) </span>loadAnnual<span class="signature">(year, baseUrl)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="Monitor.html">Monitor</a>>}</span></h4>
    

    



<div class="description">
    <p>Asynchronously loads 'annual' Monitor objects from USFS AirFire repositories
for 'airnow', 'airsis' or 'wrcc' data.</p>
<p>This function replaces the 'meta' and 'data' properties of 'this' monitor
object with the latest available data. Data cover an entire year or
year-to-date. Current year data are updated daily.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>year</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Year of interest.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>baseUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Base URL for monitoring v2 data files.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line141">line 141</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If there's an issue loading the data.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to a new Monitor instance with the loaded data.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="Monitor.html">Monitor</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadCustom"><span class="type-signature">(async) </span>loadCustom<span class="signature">(baseName, baseUrl, useAllColumns)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="Monitor.html">Monitor</a>>}</span></h4>
    

    



<div class="description">
    <p>Asynchronously loads custom monitoring data.</p>
<p>Two files will be loaded from <baseUrl>:</p>
<ol>
<li><baseName>_data.csv</li>
<li><baseName>_meta.csv</li>
</ol>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>baseName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>File name base.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>baseUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>URL path under which data files are found.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useAllColumns</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether to retain all available columns in the metadata.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line158">line 158</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If there's an issue loading the data.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to a new Monitor instance with the loaded data.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="Monitor.html">Monitor</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadDaily"><span class="type-signature">(async) </span>loadDaily<span class="signature">(provider, baseUrl)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="Monitor.html">Monitor</a>>}</span></h4>
    

    



<div class="description">
    <p>Asynchronously loads 'daily' Monitor objects from USFS AirFire repositories
for 'airnow', 'airsis' or 'wrcc' data.</p>
<p>This function replaces the 'meta' and 'data' properties of 'this' monitor
object with the latest available data. Data cover the most recent 45 days
and are updated once per day around 10:00 UTC (2am US Pacific Time).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>provider</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>One of &quot;airnow|airsis|wrcc&quot;.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>baseUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Base URL for monitoring v2 data files.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line123">line 123</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If there's an issue loading the data.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to a new Monitor instance with the loaded data.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="Monitor.html">Monitor</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadLatest"><span class="type-signature">(async) </span>loadLatest<span class="signature">(provider, baseUrl)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="Monitor.html">Monitor</a>>}</span></h4>
    

    



<div class="description">
    <p>Asynchronously loads 'latest' Monitor objects from USFS AirFire repositories
for 'airnow', 'airsis' or 'wrcc' data.</p>
<p>This function replaces the 'meta' and 'data' properties of 'this' monitor
object with the latest available data. Data cover the most recent 10 days
and are updated every few minutes.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>provider</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>One of &quot;airnow|airsis|wrcc&quot;</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>baseUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Base URL for monitoring v2 data files.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line105">line 105</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If there's an issue loading the data.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to a new Monitor instance with the loaded data.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="Monitor.html">Monitor</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="select"><span class="type-signature"></span>select<span class="signature">(ids)</span><span class="type-signature"> &rarr; {<a href="Monitor.html">Monitor</a>}</span></h4>
    

    



<div class="description">
    <p>Subset and reorder time series within the Monitor.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ids</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>Single ID or array of IDs to select.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line316">line 316</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>New Monitor with selected/reordered time series.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Monitor.html">Monitor</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="trimDate"><span class="type-signature"></span>trimDate<span class="signature">(timezone)</span><span class="type-signature"> &rarr; {<a href="Monitor.html">Monitor</a>}</span></h4>
    

    



<div class="description">
    <p>Returns a modified Monitor object with the records trimmed to full
local time days. Any partial days are discarded.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timezone</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Olson timezone identifier (e.g., &quot;America/Los_Angeles&quot;).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Monitor.js.html">Monitor.js</a>, <a href="Monitor.js.html#line358">line 358</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>New Monitor with data trimmed by timezone-aware ranges.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Monitor.html">Monitor</a></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Monitor.html">Monitor</a></li></ul><h3>Global</h3><ul><li><a href="global.html#arrayMean">arrayMean</a></li><li><a href="global.html#assert">assert</a></li><li><a href="global.html#assertIsMonitor">assertIsMonitor</a></li><li><a href="global.html#internal_collapse">internal_collapse</a></li><li><a href="global.html#internal_combine">internal_combine</a></li><li><a href="global.html#internal_createGeoJSON">internal_createGeoJSON</a></li><li><a href="global.html#internal_dropEmpty">internal_dropEmpty</a></li><li><a href="global.html#internal_filterByValue">internal_filterByValue</a></li><li><a href="global.html#internal_getCurrentStatus">internal_getCurrentStatus</a></li><li><a href="global.html#internal_getDailyStats">internal_getDailyStats</a></li><li><a href="global.html#internal_getDiurnalStats">internal_getDiurnalStats</a></li><li><a href="global.html#internal_getNowcast">internal_getNowcast</a></li><li><a href="global.html#internal_getPM25">internal_getPM25</a></li><li><a href="global.html#internal_getTimezone">internal_getTimezone</a></li><li><a href="global.html#internal_loadAnnual">internal_loadAnnual</a></li><li><a href="global.html#internal_loadCustom">internal_loadCustom</a></li><li><a href="global.html#internal_loadDaily">internal_loadDaily</a></li><li><a href="global.html#internal_loadLatest">internal_loadLatest</a></li><li><a href="global.html#internal_select">internal_select</a></li><li><a href="global.html#internal_trimDate">internal_trimDate</a></li><li><a href="global.html#loadWithRetry">loadWithRetry</a></li><li><a href="global.html#parseData">parseData</a></li><li><a href="global.html#parseMeta">parseMeta</a></li><li><a href="global.html#providerLoad">providerLoad</a></li><li><a href="global.html#providerLoadAnnual">providerLoadAnnual</a></li><li><a href="global.html#round1">round1</a></li><li><a href="global.html#validateDataTable">validateDataTable</a></li><li><a href="global.html#validateDeviceID">validateDeviceID</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Sun Jul 06 2025 19:36:35 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>